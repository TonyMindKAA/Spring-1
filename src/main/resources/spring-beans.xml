<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- In memory store -->
	<bean id="bookingStoreImpl" name="bookingStore" class="com.epam.cdp.anton.krynytskyi.domain.store.BookingStoreImpl" />

	<!-- In memory store dao -->
	<bean id="abstractStore" abstract="true" >
		<property name="bookingStore" ref="bookingStore"/>
	</bean>

	<bean id="eventDAOStore" class="com.epam.cdp.anton.krynytskyi.domain.dao.store.EventDAOStore" parent="abstractStore" />
	<bean id="ticketDAOStore" class="com.epam.cdp.anton.krynytskyi.domain.dao.store.TicketDAOStore" parent="abstractStore" />
	<bean id="userDAOStore" class="com.epam.cdp.anton.krynytskyi.domain.dao.store.UserDAOStore" parent="abstractStore" />

	<!-- In memory store services-->
	<bean id="eventServiceStore" class="com.epam.cdp.anton.krynytskyi.domain.services.EventServiceStore" >
		<property name="eventDAO" ref="eventDAOStore" />
	</bean>

	<bean id="ticketServiceStore" class="com.epam.cdp.anton.krynytskyi.domain.services.TicketServiceStore" >
		<property name="ticketDAO" ref="ticketDAOStore" />
	</bean>

	<bean id="userServiceStore" class="com.epam.cdp.anton.krynytskyi.domain.services.UserServiceStore" >
		<property name="userDAO" ref="userDAOStore" />
	</bean>

	<!-- In memory store facade-->
	<bean id="bookingFacadeImpl" class="com.epam.cdp.anton.krynytskyi.domain.facade.BookingFacadeImpl">
		<constructor-arg type="com.epam.cdp.anton.krynytskyi.api.services.EventService" ref="eventServiceStore" />
		<constructor-arg type="com.epam.cdp.anton.krynytskyi.api.services.TicketService" ref="ticketServiceStore" />
		<constructor-arg type="com.epam.cdp.anton.krynytskyi.api.services.UserService" ref="userServiceStore" />
	</bean>

</beans>