<beans
		xmlns="http://www.springframework.org/schema/beans"
	    xmlns:p="http://www.springframework.org/schema/p"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="
			http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

	<!-- In memory store -->
	<bean id="bookingStoreImpl" name="bookingStore" class="com.epam.cdp.anton.krynytskyi.domain.store.BookingStoreImpl" />

	<!-- In memory store dao -->
	<bean id="abstractStore" abstract="true" >
		<property name="bookingStore" ref="bookingStore"/>
	</bean>

	<bean id="eventDAOStore" class="com.epam.cdp.anton.krynytskyi.domain.dao.store.EventDAOStore" parent="abstractStore" />
	<bean id="ticketDAOStore" class="com.epam.cdp.anton.krynytskyi.domain.dao.store.TicketDAOStore" parent="abstractStore" />
	<bean id="userDAOStore" class="com.epam.cdp.anton.krynytskyi.domain.dao.store.UserDAOStore" parent="abstractStore" />

	<!-- In memory store services-->
	<bean id="eventServiceStore" class="com.epam.cdp.anton.krynytskyi.domain.services.EventServiceStore"
		p:eventDAO-ref="eventDAOStore" />

	<bean id="ticketServiceStore" class="com.epam.cdp.anton.krynytskyi.domain.services.TicketServiceStore"
		p:ticketDAO-ref = "ticketDAOStore"/>

	<bean id="userServiceStore" class="com.epam.cdp.anton.krynytskyi.domain.services.UserServiceStore"
		p:userDAO-ref = "userDAOStore" />

	<!-- In memory store facade-->
	<bean id="bookingFacadeImpl" class="com.epam.cdp.anton.krynytskyi.domain.facade.BookingFacadeImpl">
		<constructor-arg type="com.epam.cdp.anton.krynytskyi.api.services.EventService" ref="eventServiceStore" />
		<constructor-arg type="com.epam.cdp.anton.krynytskyi.api.services.TicketService" ref="ticketServiceStore" />
		<constructor-arg type="com.epam.cdp.anton.krynytskyi.api.services.UserService" ref="userServiceStore" />
	</bean>

	<bean class="com.epam.cdp.anton.krynytskyi.domain.model.post.processor.FacadeInitProcessor" />

</beans>